import{j as e,r as a}from"./index-68eb4303.js";import{T as j}from"./topnav-d57f5584.js";const b=()=>e.jsxs("nav",{className:"bottom-nav",children:[e.jsx("a",{className:"navbar-brand",href:"/",children:e.jsx("i",{className:"fa fa-home"})}),e.jsx("a",{className:"navbar-brand",href:"/",children:e.jsx("i",{className:"fa fa-search"})}),e.jsx("a",{className:"navbar-brand",href:"/",children:e.jsx("i",{className:"fa fa-plus"})}),e.jsx("a",{className:"navbar-brand",href:"/",children:e.jsx("i",{className:"fa fa-commenting"})}),e.jsx("a",{className:"navbar-brand",href:"/",children:e.jsx("i",{className:"fa fa-user"})})]});let d=[];function N(n){const[u,o]=a.useState(!1),r=a.useMemo(()=>new IntersectionObserver(([s])=>{o(s.isIntersecting),s.isIntersecting&&d.forEach(t=>{t!==n.current?t.pause():t.play()})}),[]);return a.useEffect(()=>(d.push(n.current),r.observe(n.current),()=>{d=d.filter(s=>s!==n.current),r.disconnect()}),[n,r]),u}const v=""+new URL("mixtape-43e606c5.svg",import.meta.url).href,y=({index:n,songName:u,songimg:o,songCut:r,author:s,authorLink:t})=>{const i=a.useRef(),m=N(i),[p,l]=a.useState(!0),[h,g]=a.useState(!1);a.useEffect(()=>{const c=i.current,x=()=>{m?(c.play(),l(!1)):(c.pause(),l(!0))};return c.addEventListener("canplay",x),()=>{c.removeEventListener("canplay",x)}},[m]),a.useEffect(()=>()=>{const c=i.current;c&&(c.pause(),l(!0))},[]);const f=()=>{i.current.paused?(i.current.play(),l(!1),g(!0)):(i.current.pause(),l(!0),g(!1))};return e.jsxs("div",{className:"slider-children",children:[e.jsx("div",{className:`background-image ${h?"playing":""}`,style:{backgroundImage:`url(${o})`}}),e.jsx("img",{src:o,alt:u,className:`song-image ${h?"playing":""}`}),e.jsx("audio",{className:"audio",ref:i,id:n,children:e.jsx("source",{src:r,type:"audio/mp3"})}),e.jsx("div",{className:"audio-overlay",onClick:f,children:p&&e.jsx("img",{src:v,alt:"Play",className:"play-icon"})}),e.jsxs("div",{className:"audio-content",children:[e.jsxs("p",{className:"m-0",children:["@",s]}),e.jsxs("p",{children:["Post by ",e.jsxs("a",{href:t,children:[s," "]})," en Mixtape"]})]})]})};const k=[{index:"1",songName:"Cancion1",songimg:"./assets/descubre/01.jpg",songCut:"https://dl.dropbox.com/s/mje86h2ubhxk6e0/Fred%20again%20-%20Turn%20On%20The%20Lights%20again%20%28Knock2%20Remix%29.mp3?dl=1",author:"4b",authorLink:"#"},{index:"2",songName:"Cancion2",songimg:"./assets/descubre/02.jpg",songCut:"https://dl.dropbox.com/s/mje86h2ubhxk6e0/Fred%20again%20-%20Turn%20On%20The%20Lights%20again%20%28Knock2%20Remix%29.mp3?dl=1",author:"alibhtty",authorLink:"#"},{index:"3",songName:"Cancion3",songimg:"./assets/descubre/03.jpg",songCut:"https://dl.dropbox.com/s/mje86h2ubhxk6e0/Fred%20again%20-%20Turn%20On%20The%20Lights%20again%20%28Knock2%20Remix%29.mp3?dl=1",author:"cy-user",authorLink:"#"},{index:"4",songName:"Cancion4",songimg:"./assets/descubre/04.jpg",songCut:"https://dl.dropbox.com/s/mje86h2ubhxk6e0/Fred%20again%20-%20Turn%20On%20The%20Lights%20again%20%28Knock2%20Remix%29.mp3?dl=1",author:"boomcar",authorLink:"#"}];function C(){const[n,u]=a.useState([]),[o,r]=a.useState(!1);return a.useEffect(()=>{u(k),r(!0)},[]),e.jsxs("main",{children:[e.jsx(j,{}),e.jsx("div",{className:"slider-container",children:o&&n.length>0?e.jsx("div",{children:n.map((s,t)=>e.jsx(y,{index:s.index,songName:s.songName,songimg:s.songimg,songCut:s.songCut,author:s.author,authorLink:s.authorLink,miniatura:s.miniatura},t))}):e.jsx("div",{children:"Loading..."})}),e.jsx(b,{})]})}export{C as default};
